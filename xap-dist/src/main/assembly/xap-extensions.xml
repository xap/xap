<assembly xmlns="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/plugins/maven-assembly-plugin/assembly/1.1.2 http://maven.apache.org/xsd/assembly-1.1.2.xsd">
    <id>xap-cassandra</id>
    <formats>
        <format>dir</format>
    </formats>
    <includeBaseDirectory>false</includeBaseDirectory>
    <dependencySets>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/cassandra</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-cassandra</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/groovy</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-groovy</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/metrics</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-metrics-influxdb</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/jetty/xap-jetty</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-jetty-8</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/jetty-9/xap-jetty</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-jetty-9</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/jms</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-jms</include>
                <include>javax.jms:jms</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/jruby</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-jruby</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/map</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-map</include>
                <include>org.gigaspaces:xap-map-spring</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/mongodb</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-mongodb</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/mongodb</outputDirectory>
            <includes>
                <include>org.antlr:antlr4-runtime</include>
            </includes>
            <useTransitiveDependencies/>
            <useTransitiveFiltering/>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/mule</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-mule</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/rest</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-rest:war</include>
                <include>org.gigaspaces:xap-rest-spring</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/jackson</outputDirectory>
            <includes>
                <include>com.fasterxml.jackson.core:jackson-core</include>
                <include>com.fasterxml.jackson.core:jackson-databind</include>
                <include>com.fasterxml.jackson.core:jackson-annotations</include>
            </includes>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/spatial</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-spatial</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/spatial</outputDirectory>
            <includes>
                <include>org.apache.lucene:lucene-core</include>
                <include>org.apache.lucene:lucene-analyzers-common</include>
                <include>org.apache.lucene:lucene-queryparser</include>
                <include>org.apache.lucene:lucene-queries</include>
                <include>org.apache.lucene:lucene-sandbox</include>
                <include>org.apache.lucene:lucene-misc</include>
                <include>org.apache.lucene:lucene-spatial-extras</include>
                <include>com.vividsolutions:jts</include>
                <include>org.locationtech.spatial4j:spatial4j</include>
                <include>org.noggit:noggit</include>
            </includes>
        </dependencySet>

        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/full-text-search</outputDirectory>
            <includes>
                <include>org.gigaspaces:xap-full-text-search</include>
            </includes>
            <outputFileNameMapping>${artifact.artifactId}.${artifact.extension}</outputFileNameMapping>
        </dependencySet>
        <dependencySet>
            <useProjectArtifact>false</useProjectArtifact>
            <outputDirectory>product/lib/optional/full-text-search</outputDirectory>
            <includes>
                <include>org.apache.lucene:lucene-core</include>
                <include>org.apache.lucene:lucene-analyzers-common</include>
                <include>org.apache.lucene:lucene-queryparser</include>
                <include>org.apache.lucene:lucene-queries</include>
                <include>org.apache.lucene:lucene-sandbox</include>
                <include>org.apache.lucene:lucene-misc</include>
                <include>org.apache.lucene:lucene-memory</include>
            </includes>
        </dependencySet>

    </dependencySets>

    <fileSets>

        <!--jetty8-->
        <fileSet>
            <directory>${project.basedir}/../xap-extensions/xap-jetty-8</directory>
            <outputDirectory>product</outputDirectory>
            <includes>
                <include>bin/pu*</include>
                <include>bin/gs-m*</include>
                <include>deploy/**</include>
                <include>tools/**</include>
            </includes>
            <excludes>
                <exclude>tools/maven/maven-openspaces-plugin/target/**</exclude>
                <exclude>tools/maven/apache-maven-3.0.2/**</exclude>
                <exclude>tools/**/*.iml</exclude>
                <exclude>tools/gshell/**</exclude>
            </excludes>
        </fileSet>
        <!--jetty8 jars-->
        <fileSet>
            <directory>${project.basedir}/../xap-extensions/xap-jetty-8/target/dependency</directory>
            <outputDirectory>product/lib/optional/jetty</outputDirectory>
            <includes>
                <include>jetty-*</include>
                <include>javax.servlet.jsp.jstl-*</include>
                <include>javax.servlet.jsp-*</include>
                <include>javax.el-*</include>
                <include>com.sun.el-*</include>
                <include>org.apache.jasper.glassfish-*</include>
                <include>org.apache.taglibs.standard.glassfish-*</include>
                <include>ecj-*</include>
                <include>javax.servlet-api-*</include>
            </includes>
            <excludes>
                <exclude>jetty-all-*</exclude>
            </excludes>
        </fileSet>
        <!--jetty9-->
        <fileSet>
            <directory>${project.basedir}/../xap-extensions/xap-jetty-9</directory>
            <outputDirectory>product</outputDirectory>
            <includes>
                <include>bin/pu*</include>
                <include>bin/gs-m*</include>
                <include>deploy/**</include>
                <include>tools/**</include>
            </includes>
            <excludes>
                <exclude>tools/maven/maven-openspaces-plugin/target/**</exclude>
                <exclude>tools/maven/apache-maven-3.0.2/**</exclude>
                <exclude>tools/**/*.iml</exclude>
                <exclude>tools/gshell/**</exclude>
            </excludes>
        </fileSet>

        <!--scala-->
        <fileSet>
            <directory>${project.basedir}/../xap-extensions/xap-scala/xap-scala-core/target</directory>
            <outputDirectory>product/lib/optional/scala</outputDirectory>
            <includes>
                <include>xap-scala.jar</include>
            </includes>
        </fileSet>
        <fileSet>
            <directory>${project.basedir}/../xap-scala/xap-scala-core</directory>
            <!--suppress CheckTagEmptyBody -->
            <outputDirectory>product</outputDirectory>
            <includes>
                <include>tools/scala/**</include>
            </includes>
        </fileSet>

    </fileSets>

</assembly>